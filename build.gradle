apply plugin: 'java'
apply plugin: 'maven'
apply plugin: 'signing'
apply plugin: 'cobertura'
apply plugin: 'com.github.kt3k.coveralls'

sourceCompatibility = 1.7
group = "com.github.paniko0"
archivesBaseName = "jassinaturas"
version = '1.2.0'

repositories {
    mavenCentral()
}

dependencies {
    compile 'com.netflix.feign:feign-gson:6.0.1'

    testCompile 'junit:junit:4.11'
    testCompile 'co.freeside:betamax:1.1.2'
    testCompile 'commons-httpclient:commons-httpclient:3.1'
    testCompile 'org.codehaus.groovy:groovy-all:2.2.1'
}

task javadocJar(type: Jar) {
    classifier = 'javadoc'
    from javadoc
}

task sourcesJar(type: Jar) {
    classifier = 'sources'
    from sourceSets.main.allSource
}

artifacts {
    archives javadocJar, sourcesJar
}

buildscript {
    repositories {
        mavenCentral()
    }

    dependencies {
        classpath 'net.saliman:gradle-cobertura-plugin:2.0.0' // cobertura plugin
        classpath 'org.kt3k.gradle.plugin:coveralls-gradle-plugin:2.4.0'
    }
}

cobertura.coverageFormats = ['html', 'xml'] // coveralls plugin depends on xml format report
